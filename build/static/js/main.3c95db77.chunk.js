(this.webpackJsonpstorage=this.webpackJsonpstorage||[]).push([[0],{471:function(e,t){},483:function(e,t){e.exports="data:image/png;base64,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"},501:function(e,t,a){e.exports=a(722)},544:function(e,t){},546:function(e,t){},558:function(e,t){},560:function(e,t){},587:function(e,t){},589:function(e,t){},590:function(e,t){},596:function(e,t){},598:function(e,t){},616:function(e,t){},618:function(e,t){},630:function(e,t){},633:function(e,t){},716:function(e,t){},717:function(e,t){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),l=a(32),u=a(40),o=a(35),i=a(49),m=a(71),d=a(481),p=a(482),f=a(17),b="LOGGED_IN",v="LOGIN_FAILED",h="REGISTERED",E="REGISTER_FAILED",w="USER_LOADED",g="USER_LOAD_FAILED",O="LOGGED_OUT",j={user:{},isLoggedIn:!1,isLoading:!0},x=Object(m.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case w:case b:return Object(f.a)(Object(f.a)({},e),{},{user:n.user,isLoggedIn:!0,isLoading:!1});case g:case v:case O:return Object(f.a)(Object(f.a)({},e),{},{user:{},isLoggedIn:!1,isLoading:!1});case h:case E:default:return e}}}),y=[p.a],A=Object(m.createStore)(x,{},Object(d.composeWithDevTools)(m.applyMiddleware.apply(void 0,y))),N=a(490),k=function(e){e.path;var t=e.component,a=e.allow,n=Object(N.a)(e,["path","component","allow"]),c=Object(l.d)((function(e){return e.authReducer})),s=c.isLoggedIn,u=c.isLoading,i=c.user;return u?r.a.createElement("div",null):r.a.createElement(o.b,Object.assign({},n,{render:function(e){return s?"All"===a||a.includes(i.role)?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/forbidden",state:{from:e.location}}}):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},C=a(7),S=a.n(C),q=a(14),D=a(135),R=a.n(D);R.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||i.b.error("Somthing failed on the server! Try again later",{position:i.b.POSITION.TOP_RIGHT,autoClose:5e3}),Promise.reject(e)}));var L={get:R.a.get,post:R.a.post,put:R.a.put,delete:R.a.delete,setToken:function(e){R.a.defaults.headers.common.Authorization="Bearer ".concat(e)}},T=function(e){e.response||i.b.error(e.message,{position:i.b.POSITION.BOTTOM_RIGHT,autoClose:5e3}),e.response&&e.response.status<500&&i.b.error(e.response.data,{position:i.b.POSITION.BOTTOM_RIGHT,autoClose:5e3}),i.b.error(e,{position:i.b.POSITION.BOTTOM_RIGHT,autoClose:5e3})},F=a(483),P=a.n(F),I=a(47),U=a.n(I),G=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.authReducer})),a=t.isLoggedIn,c=t.isLoading,s=t.user.role,i=Object(o.g)();Object(n.useEffect)((function(){var e=document.querySelectorAll(".sidenav");U.a.Sidenav.init(e,{});var t=document.querySelectorAll(".dropdown-trigger");U.a.Dropdown.init(t,{coverTrigger:!1,constrainWidth:!1})}),[]);var m=function(){e(function(){var e=Object(q.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),L.setToken(null),t({type:O});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"red darken-2 z-depth-2"},r.a.createElement("div",{className:"nav-wrapper ml-4 mr-2"},r.a.createElement(u.b,{to:"/",className:"brand-logo"},r.a.createElement("i",{className:"fa fa-hdd-o app-icon"}),"Storage System"),r.a.createElement("a",{href:"#!",className:"sidenav-trigger","data-target":"mobile-nav"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},!c&&a&&["PartnerUser","PartnerAdmin","Admin"].includes(s)&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/warehouses"},"Warehouses")),!c&&a&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/documents"},"Documents")),!c&&a&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/requests"},"Requests")),!c&&a&&["PartnerAdmin","ClientAdmin","Admin"].includes(s)&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/users"},"Users Managment")),!c&&!a&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login"},"Login")),r.a.createElement("li",{className:a?"":"hide"},r.a.createElement("img",{src:P.a,alt:"",onClick:function(){i.push("/profile")},className:"circle responsive-img dropdown-trigger img-40","data-target":"profile-dropdown",style:{marginTop:"0.75rem",marginLeft:"0.4rem"}})))))),r.a.createElement("ul",{className:"dropdown-content",id:"profile-dropdown"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",onClick:m},r.a.createElement("i",{className:"fa fa-sign-out mr-1"}),"Log out"))),r.a.createElement("ul",{className:"sidenav sidenav-close blue-grey darken-4",id:"mobile-nav"},r.a.createElement("h3",{className:"mb-3 center"},r.a.createElement(u.b,{to:"/",className:"red-text "},r.a.createElement("i",{className:"far fa-id-badge red-text"})," Storage System")),r.a.createElement("li",{className:"mb-1"},r.a.createElement("div",{className:"divider blue-grey darken-2"})),!c&&a&&["PartnerUser","PartnerAdmin","Admin"].includes(s)&&r.a.createElement("li",null,r.a.createElement(u.b,{className:"white-text",to:"/warehouses"},"Warehouses")),r.a.createElement("li",null,!c&&a&&r.a.createElement(u.b,{className:"white-text",to:"/documents"},"Documents")),!c&&a&&r.a.createElement("li",null,r.a.createElement(u.b,{className:"white-text",to:"/requests"},"Requests")),!a&&!c&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login",className:"white-text"},r.a.createElement("i",{className:"fa fa-sign-in white-text"}),"Login")),!c&&a&&r.a.createElement("li",null,r.a.createElement(u.b,{className:"white-text",to:"/profile"},"Profile")),a&&r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",onClick:m,className:"white-text"},r.a.createElement("i",{className:"fa fa-sign-out white-text"}),"Log out"))))},M=a(484),B=a(63),W=a(33),V=a(159),K=a.n(V),H=function(e){var t=e.name,a=e.error,n=e.label;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",Object.assign({name:t,id:t,className:a?"invalid":""},e)),r.a.createElement("label",{htmlFor:t},n),r.a.createElement("span",{className:"helper-text red-text left"},a)))},z=function(e){var t=e.label,a=e.icon;return r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{type:"submit",className:"btn btn-large red"},t,r.a.createElement("i",{className:a})))},Y=function(e){var t=Object(n.useState)({username:"",password:"",errors:{username:"",password:""}}),a=Object(W.a)(t,2),c=a[0],s=a[1],u=c.username,i=c.password,m=c.errors,d=Object(l.c)();if(Object(l.d)((function(e){return e.authReducer.isLoggedIn})))return e.history.location.state?r.a.createElement(o.a,{to:e.history.location.state.from}):r.a.createElement(o.a,{to:"/"});var p=function(e){s(Object(f.a)(Object(f.a)({},c),{},Object(B.a)({},e.target.name,e.target.value)))},h=function(e){g(e.target)},E={username:K.a.string().min(4).max(30).required().label("Username"),password:K.a.string().min(6).max(26).required().label("Password")},w=function(){var e=K.a.validate({username:u,password:i},E,{abortEarly:!1}).error;if(e){var t,a={},n=Object(M.a)(e.details);try{for(n.s();!(t=n.n()).done;){var r=t.value;a[r.path[0]]=r.message}}catch(l){n.e(l)}finally{n.f()}return s(Object(f.a)(Object(f.a)({},c),{},{errors:a})),e}},g=function(e){var t=K.a.validate(Object(B.a)({},e.name,e.value),Object(B.a)({},e.name,E[e.name])).error;t?(m[e.name]=t.details[0].message,s(Object(f.a)(Object(f.a)({},c),{},{errors:m}))):(delete m[e.name],s(Object(f.a)(Object(f.a)({},c),{},{errors:m})))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row center"},r.a.createElement("h4",{className:"center red-text auth-page-header"},"Login"),r.a.createElement("div",{className:"col s6 offset-s3 card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w()||d(function(e,t){return function(){var a=Object(q.a)(S.a.mark((function a(n){var r,c,s;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L.post("/authentication",{UserName:e,Password:t});case 3:r=a.sent,c=r.data,s=c.token,localStorage.setItem("token",s),L.setToken(s),n({type:b,payload:{user:c}}),a.next=17;break;case 11:a.prev=11,a.t0=a.catch(0),T(a.t0),localStorage.removeItem("token"),L.setToken(null),n({type:v});case 17:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(u,i))}},r.a.createElement(H,{type:"text",name:"username",label:"Username",error:m.username,value:u,onChange:p,onBlur:h}),r.a.createElement(H,{type:"password",name:"password",label:"Password",error:m.password,value:i,onChange:p,onBlur:h}),r.a.createElement(z,{label:"Login"}))))))},Q=function(){var e=Object(l.d)((function(e){return e.authReducer.isLoggedIn})),t=Object(l.d)((function(e){return e.authReducer.isLoading})),a=Object(l.d)((function(e){return e.authReducer.user.role}));if(t)return r.a.createElement("div",null);if(!e)return r.a.createElement(o.a,{to:"/login"});switch(a){case"Admin":return r.a.createElement(o.a,{to:"/users"});case"ClientUser":case"ClientAdmin":case"PartnerUser":case"PartnerAdmin":return r.a.createElement(o.a,{to:"/requests"});default:return r.a.createElement("div",null)}},X=a(106),Z=function(e){var t=e.name,a=e.label,n=e.icon;return r.a.createElement("div",{className:"input-field"},n&&r.a.createElement("i",{className:"prefix "+n}),r.a.createElement("input",Object.assign({name:t,id:t,type:"text",placeholder:""},e)),r.a.createElement("label",{htmlFor:t},a))},J=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/users");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),T(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/users/"+t.id,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/users",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.delete("/users/"+t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=a(303),ae=a.n(te),ne=function(e){var t=e.columns,a=e.data,n=e.actions;return r.a.createElement(ae.a,Object.assign({columns:t,data:a,actions:n,localization:{header:{actions:""}},options:{toolbar:!1,actionsColumnIndex:-1,headerStyle:{fontSize:20}}},e))},re=function(e){var t=e.color,a=e.icon;return r.a.createElement("div",{className:"fixed-action-btn mb-1 mr-1"},r.a.createElement("button",Object.assign({className:"modal-trigger btn-floating btn-large "+t},e),r.a.createElement("i",{className:a})))},ce=[{title:"Username",field:"userName"},{title:"Email",field:"email"},{title:"Role",field:"role"}],se=function(){var e=Object(n.useState)([]),t=Object(W.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)({}),l=Object(W.a)(s,2),u=l[0],o=l[1],i=[{icon:function(){return r.a.createElement("i",{className:"fa fa-trash-o"})},tooltip:"Delete",onClick:function(){var e=Object(q.a)(S.a.mark((function e(t,n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(n.id);case 2:c(a.filter((function(e){return e.id!==n.id})));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}];Object(n.useEffect)((function(){(function(){var e=Object(q.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelectorAll(".modal"),U.a.Modal.init(t,{}),a=document.querySelectorAll(".datepicker"),U.a.Datepicker.init(a,{}),e.next=6,J();case 6:n=e.sent,c(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var m=function(){var e=Object(q.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(f.a)(Object(f.a)({},u),{},Object(B.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.password||!(u.password.length<6||u.password!==u.password2)){e.next=3;break}return T("Retype password"),e.abrupt("return");case 3:return e.next=5,$(u);case 5:(t=e.sent)&&c([].concat(Object(X.a)(a),[t]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"ml-2"},"Users"),r.a.createElement("div",{className:"ml-2 mr-2"},r.a.createElement(ne,{columns:ce,data:a,actions:i})),r.a.createElement(n.Fragment,null,r.a.createElement(re,{icon:"fa fa-plus",color:"red",href:"#addModal"}),r.a.createElement("div",{id:"addModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",{className:"mb-2"},"New User"),r.a.createElement(Z,{type:"text",name:"userName",label:"Username",value:u.userName,onChange:m}),r.a.createElement(Z,{type:"text",name:"email",label:"Email",value:u.email,onChange:m}),r.a.createElement(Z,{type:"password",name:"password",label:"Password",value:u.password,onChange:m}),r.a.createElement(Z,{type:"password",name:"password2",label:"Confirm Password",value:u.password2,onChange:m})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-light btn red",onClick:d},"Confirm")))))},le=function(e){var t=Object(n.useState)({}),a=Object(W.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)(!0),o=Object(W.a)(u,2),i=o[0],m=o[1],d=Object(l.d)((function(e){return e.authReducer}));Object(n.useEffect)((function(){s(d)}),[]);var p=function(e){s(Object(f.a)(Object(f.a)({},c),{},Object(B.a)({},e.target.name,e.target.value)))},b=function(){var e=Object(q.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(c);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),T(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:"4rem"}},r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"8fr 1fr 1fr"}},r.a.createElement("h4",{className:"ml-2"},"Profile"),r.a.createElement("i",{style:{display:i?"none":"initial"},className:"fa fa-floppy-o fa-lg hand mt-3",onClick:b}),r.a.createElement("i",{className:"fa fa-pencil fa-lg hand mt-3",onClick:function(){return m(!i)}})),r.a.createElement("div",{style:{display:"grid",width:"20rem"}},r.a.createElement(Z,{type:"text",name:"userName",label:"Username",disabled:!0,value:c.username,onChange:p}),r.a.createElement(Z,{type:"text",name:"email",label:"Email",disabled:i,value:c.email,onChange:p}),!i&&r.a.createElement(n.Fragment,null,r.a.createElement(Z,{type:"password",name:"password",label:"Old Password",style:{display:i?"none":"initial"},disabled:i,value:c.oldPassword,onChange:p}),r.a.createElement(Z,{type:"password",name:"password",label:"New Password",disabled:i,style:{display:i?"none":"initial"},value:c.password,onChange:p}),r.a.createElement(Z,{type:"password",name:"password2",label:"Confirm New Password",disabled:i,style:{display:i?"none":"initial"},value:c.password2,onChange:p}))))},ue=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/requests");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),T(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/requests/"+t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(q.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/documents",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/state/2");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/state/3");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/state/4");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/state/5");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.put("/requests/"+t+"/state/0");case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/requests",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),he=[{title:"Barcode",field:"document.barcode"},{title:"Client",field:"document.client.name"},{title:"Warehouse",field:"document.warehouse.name"},{title:"State",field:"state"}],Ee=function(e){var t=Object(n.useState)({code:"",requestedDate:"",state:"",documentRequests:[]}),a=Object(W.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)({document:{}}),o=Object(W.a)(u,2),i=o[0],m=o[1],d=Object(l.d)((function(e){return e.authReducer.user.role})),p=[{icon:function(){return r.a.createElement("i",{className:"fa fa-trash-o"})},tooltip:"Delete",onClick:function(){var e=Object(q.a)(S.a.mark((function e(t,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(f.a)(Object(f.a)({},c),{},{documentRequests:c.documentRequests.filter((function(e){return e.document.barcode!==a.document.barcode}))}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}];Object(n.useEffect)((function(){(function(){var t=Object(q.a)(S.a.mark((function t(){var a,n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelectorAll(".modal"),U.a.Modal.init(a,{}),n=document.querySelectorAll(".datepicker"),U.a.Datepicker.init(n,{}),t.next=6,oe(e.match.params.id);case 6:(r=t.sent)&&s(r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var b,v=function(){var e=Object(q.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(f.a)(Object(f.a)({},c),{},{documentRequests:[].concat(Object(X.a)(c.documentRequests),[i])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var t=Object(q.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ie(e.match.params.id,Object(f.a)(Object(f.a)({},c),{},{barcodes:Object(X.a)(c.documentRequests.map((function(e){return e.document.barcode})))}));case 5:(a=t.sent)&&s(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(q.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,me(e.match.params.id);case 5:(a=t.sent)&&s(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(q.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,pe(e.match.params.id);case 5:(a=t.sent)&&s(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(q.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fe(e.match.params.id);case 5:(a=t.sent)&&s(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(q.a)(S.a.mark((function t(){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,de(e.match.params.id);case 5:(a=t.sent)&&s(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();switch(c.state){case"Cancelled":b="lightred";break;default:b="lightgreen"}return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"3fr 2fr"}},r.a.createElement("div",{className:"ml-2 mt-2",style:{display:"flex",alignItems:"center"}},r.a.createElement("b",null,"#",c.code),r.a.createElement("div",{style:{padding:"0px 10px",background:b,borderRadius:"100px",marginLeft:"10px"}},c.state)),r.a.createElement("div",{className:"mr-2 mt-5",style:{display:"grid",gridTemplateColumns:"3fr 3fr"}},r.a.createElement("button",{className:"btn green mr-1",onClick:h},"Save",r.a.createElement("i",{className:"fa fa-floppy-o fa-2x ml-1"})),"New"===c.state&&r.a.createElement("button",{className:"waves-effect waves-light btn",onClick:E},"Submit",r.a.createElement("i",{className:"fa fa-check fa-2x ml-1"})),"Submitted"===c.state&&r.a.createElement("button",{className:"waves-effect waves-light btn",onClick:O},"Deliver",r.a.createElement("i",{className:"fa fa-check fa-2x"})),"Delivered"===c.state&&r.a.createElement("button",{className:"waves-effect waves-light btn",onClick:w},"Request Collection",r.a.createElement("i",{className:"fa fa-check fa-2x"})),"Request Collection"===c.state&&r.a.createElement("button",{className:"waves-effect waves-light btn",onClick:g},"Collect",r.a.createElement("i",{className:"fa fa-check fa-2x"})))),r.a.createElement("div",{className:"mt-2 ml-2",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"date"},"Requested Date"),r.a.createElement("input",{id:"date",type:"text",className:"datepicker",onChange:function(e){s(Object(f.a)(Object(f.a)({},c),{},Object(B.a)({},e.target.name,e.target.value)))},value:new Date(c.requestedDate).toLocaleDateString()}))),r.a.createElement("div",{className:"ml-2 mt-3 mr-2"},r.a.createElement("h4",{className:"mb-1"},"Document Requests"),r.a.createElement(ne,{columns:he,data:c.documentRequests,actions:p})),"ClientUser"===d&&r.a.createElement(n.Fragment,null,r.a.createElement(re,{icon:"fa fa-plus",color:"red",href:"#addModal"}),r.a.createElement("div",{id:"addModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",{className:"mb-2"},"New document Request"),r.a.createElement(Z,{type:"text",name:"barcode",label:"Barcode",value:i.document.barcode,onChange:function(e){m(Object(f.a)(Object(f.a)({},i),{},{document:Object(f.a)(Object(f.a)({},i.document),{},{barcode:e.target.value})}))}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"modal-close waves-effect waves-red btn-flat",onClick:v},"Confirm")))))},we=function(e){switch(e){case"Submitted":case"Request Collection":return"lightblue";case"Canceled":return"lightred";default:return""}},ge=[{title:"Code",field:"code"},{title:"Count",field:"count"},{title:"State",field:"state",render:function(e){return r.a.createElement("p",{style:{padding:"0px 10px",background:we(e.state),borderRadius:"100px",marginLeft:"10px"}},e.state)}},{title:"Address",field:"address"}],Oe=function(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),c=a[0],s=a[1],u=Object(n.useState)({}),o=Object(W.a)(u,2),i=o[0],m=o[1],d=Object(l.d)((function(e){return e.authReducer.user.role})),p=[{icon:function(){return r.a.createElement("i",{className:"fa fa-external-link"})},tooltip:"Open",onClick:function(t,a){e.history.push("/request/"+a.id)}}];["ClientUser","ClientAdmin","Admin"].includes(d)&&p.push({icon:function(){return r.a.createElement("i",{className:"fa fa-ban"})},tooltip:"Cancel",onClick:function(){var e=Object(q.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be(a.id);case 3:n=e.sent,m(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()}),Object(n.useEffect)((function(){(function(){var e=Object(q.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelectorAll(".modal"),U.a.Modal.init(t,{}),a=document.querySelectorAll(".datepicker"),U.a.Datepicker.init(a,{}),e.next=6,ue();case 6:n=e.sent,s(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var b=function(){var e=Object(q.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(Object(f.a)(Object(f.a)({},i),{},Object(B.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(i);case 2:(t=e.sent)&&s([].concat(Object(X.a)(c),[Object(f.a)(Object(f.a)({},t),{},{count:0})]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"ml-2"},"Requests"),r.a.createElement("div",{className:"ml-2 mt-3 mr-2"},r.a.createElement(ne,{columns:ge,data:c,actions:p})),"ClientUser"===d&&r.a.createElement(n.Fragment,null,r.a.createElement(re,{icon:"fa fa-plus",color:"red",href:"#addModal"}),r.a.createElement("div",{id:"addModal",className:"modal"},r.a.createElement("div",{className:"modal-content mb-6"},r.a.createElement("h5",{className:"mb-6"},"New Request"),r.a.createElement(Z,{type:"text",name:"address",label:"Address",value:i.address,onChange:b}),r.a.createElement("label",{htmlFor:"date"},"Select Date"),r.a.createElement("input",{id:"date",type:"text",className:"datepicker",onChange:b,value:i.requestedDate})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat",onClick:v},"Confirm")))))},je=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/warehouses");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),T(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/warehouses",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(q.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.post("/warehouses/"+t+"/documents",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/clients");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),T(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ne=a(313),ke=a.n(Ne),Ce=a(487),Se=a(488),qe=a(491),De=a(489),Re=function(e){Object(qe.a)(a,e);var t=Object(De.a)(a);function a(){return Object(Ce.a)(this,a),t.apply(this,arguments)}return Object(Se.a)(a,[{key:"render",value:function(){var e={};this.props.data.forEach((function(t){return e[t.name]=null}));var t=document.querySelectorAll(".autocomplete");return U.a.Autocomplete.init(t,{data:e,onAutocomplete:this.props.onAutocomplete}),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"text",autocomplete:"off",name:"autocomplete",id:"autocomplete",value:this.props.value,onChange:this.props.onChange,className:"autocomplete"}),r.a.createElement("label",{htmlFor:"autocomplete"},this.props.label))}}]),a}(n.Component),Le=[{title:"Code",field:"code"},{title:"Name",field:"name"},{title:"Documents Count",field:"documentsCount"},{title:"Address",field:"address"}],Te=function(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)({}),u=Object(W.a)(l,2),o=u[0],i=u[1],m=Object(n.useState)([]),d=Object(W.a)(m,2),p=d[0],b=d[1],v=Object(n.useState)({}),h=Object(W.a)(v,2),E=h[0],w=h[1],g={},O=[{icon:function(){return r.a.createElement("i",{className:"fa fa-upload",href:"#uploadModal"})},tooltip:"Upload",onClick:function(){var e=Object(q.a)(S.a.mark((function e(t,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(Object(f.a)(Object(f.a)({},E),{},{id:a.id})),g.click();case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}];Object(n.useEffect)((function(){(function(){var e=Object(q.a)(S.a.mark((function e(){var t,a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelectorAll(".modal"),U.a.Modal.init(t,{}),e.next=4,je();case 4:return a=e.sent,e.next=7,Ae();case 7:n=e.sent,s(a),b(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=function(){var e=Object(q.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(f.a)(Object(f.a)({},o),{},Object(B.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(Object(f.a)(Object(f.a)({},o),{},{code:"",documentsCount:0}));case 2:(t=e.sent)&&s([].concat(Object(X.a)(c),[t]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(q.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(E.id,{documents:E.documents,clientId:p.find((function(e){return e.name===E.client})).id});case 2:t=e.sent,w({}),t&&s([].concat(Object(X.a)(c.filter((function(e){return e.id!==E.id}))),[t]));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"ml-2"},"Warehouses"),r.a.createElement("div",{className:"ml-2 mt-3 mr-2"},r.a.createElement(ne,{columns:Le,data:c,actions:O})),r.a.createElement(n.Fragment,null,r.a.createElement(re,{icon:"fa fa-plus",color:"red",href:"#addModal"}),r.a.createElement("div",{id:"addModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",{className:"mb-2"},"New Warehouse"),r.a.createElement(Z,{type:"text",name:"name",label:"Name",value:o.name,onChange:j}),r.a.createElement(Z,{type:"text",name:"address",label:"Address",value:o.address,onChange:j})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat",onClick:x},"Confirm"))),r.a.createElement("div",{id:"uploadModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("h5",{className:"mb-2"},"Upload Documents"),r.a.createElement(Re,{label:"Client",data:p,value:E.client,onChange:function(e){return w(Object(f.a)(Object(f.a)({},E),{},{client:e.target.value}))},onAutocomplete:function(e){return w(Object(f.a)(Object(f.a)({},E),{},{client:e}))}}),r.a.createElement("input",{type:"file",name:"documents",label:"Documents",accept:".xlsx,.xls",value:E.file,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsBinaryString&&(a.onload=function(e){var t=ke.a.read(a.result,{type:"binary"}),n=t.SheetNames[0],r=ke.a.utils.sheet_to_row_object_array(t.Sheets[n]);w(Object(f.a)(Object(f.a)({},E),{},{documents:r.map((function(e){return e.Barcode}))}))},a.readAsBinaryString(t))}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("a",{href:"#!",className:"modal-close waves-effect waves-green btn-flat",onClick:y},"Confirm"))),r.a.createElement("button",{href:"#uploadModal",className:"modal-trigger",style:{display:"none"},ref:function(e){return g=e}})))},Fe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/documents/search/"+t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),T(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.get("/documents/"+t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),T(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=Object(n.useState)({files:[]}),a=Object(W.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){var t=Object(q.a)(S.a.mark((function t(){var a,n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelectorAll(".collapsible"),U.a.Collapsible.init(a,{}),t.next=4,Pe(e.match.params.id);case 4:(n=t.sent)&&s(n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),r.a.createElement(n.Fragment,null,r.a.createElement("h4",null,"Document Files"),r.a.createElement("ul",{className:"collapsible"},r.a.createElement("li",null,r.a.createElement("div",{className:"collapsible-header"},r.a.createElement("p",{className:"mr-2"},"Barcode: ",c.barcode),r.a.createElement("p",null,"Warehouse: ",c.warehouse)),r.a.createElement("div",{className:"collapsible-body"},r.a.createElement("ul",null,c.files.map((function(e){return r.a.createElement("li",null,e)})))))))},Ue=[{title:"Barcode",field:"barcode"},{title:"Client",field:"client"},{title:"Warehouse",field:"warehouse"}],Ge=function(e){var t=Object(n.useState)([]),a=Object(W.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(""),u=Object(W.a)(l,2),o=u[0],i=u[1],m=function(){var e=Object(q.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(q.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(o);case 2:a=e.sent,s(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=[{icon:function(){return r.a.createElement("i",{className:"fa fa-external-link"})},tooltip:"Open",onClick:function(t,a){e.history.push("/document/"+a.id)}}];return r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"ml-2"},"Documets"),r.a.createElement("div",{className:"ml-2 mt-3 mr-2"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(Z,{type:"text",name:"query",label:"Search document",value:o,onChange:m}),r.a.createElement("i",{className:"fa fa-search hand",onClick:d})),r.a.createElement(ne,{columns:Ue,data:c,actions:p})))},Me=function(){return r.a.createElement("div",{className:"error-page center"},r.a.createElement("i",{className:"fas fa-frown fa-7x mb-1"}),r.a.createElement("h2",null,r.a.createElement("span",{className:"red-text"},"Error 403 "),"Forbidden"),r.a.createElement("h5",null,"You don't have the required permissions !"))},Be=function(){return r.a.createElement("div",{className:"error-page center"},r.a.createElement("i",{className:"fas fa-frown fa-7x mb-1"}),r.a.createElement("h2",null,r.a.createElement("span",{className:"red-text"},"Error 404 "),"Not found"))},We=(a(718),a(719),a(720),a(721),function(){return A.dispatch(function(){var e=Object(q.a)(S.a.mark((function e(t){var a,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")){e.next=3;break}return e.abrupt("return",t({type:g}));case 3:return L.setToken(a),e.prev=4,e.next=7,L.get("/authentication");case 7:n=e.sent,r=n.data,t({type:w,payload:{user:r}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),400!==e.t0.response.status&&401!==e.t0.response.status||(L.setToken(null),localStorage.removeItem("token")),t({type:g});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()),r.a.createElement(l.a,{store:A},r.a.createElement(u.a,null,r.a.createElement(G,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:Q}),r.a.createElement(o.b,{exact:!0,path:"/login",component:Y}),r.a.createElement(k,{exact:!0,path:"/request/:id",allow:"All",component:Ee}),r.a.createElement(k,{exact:!0,path:"/users",allow:["ClientAdmin","PartnerAdmin","Admin"],component:se}),r.a.createElement(k,{exact:!0,path:"/profile",allow:"All",component:le}),r.a.createElement(k,{exact:!0,path:"/requests",allow:"All",component:Oe}),r.a.createElement(k,{exact:!0,path:"/warehouses",allow:["PartnerUser","PartnerAdmin","Admin"],component:Te}),r.a.createElement(k,{exact:!0,path:"/documents",allow:"All",component:Ge}),r.a.createElement(k,{exact:!0,path:"/document/:id",allow:"All",component:Ie}),r.a.createElement(o.b,{exact:!0,path:"/forbidden",component:Me}),r.a.createElement(o.b,{component:Be}))),r.a.createElement(i.a,{pauseOnFocusLoss:!1}))});s.a.render(r.a.createElement(We,null),document.getElementById("root"))}},[[501,1,2]]]);
//# sourceMappingURL=main.3c95db77.chunk.js.map